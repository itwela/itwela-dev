{"version":3,"sources":["../src/controls.tsx","../src/hooks/use-dotlottie-state.ts","../src/icons/ellipsis-vertical.tsx","../src/icons/loop.tsx","../src/icons/next.tsx","../src/icons/pause.tsx","../src/icons/play.tsx","../src/icons/previous.tsx","../src/popover/index.tsx","../src/popover/item.tsx","../src/icons/chevron-left.tsx","../src/icons/chevron-right.tsx","../src/popover/sub-item.tsx","../src/icons/check-mark.tsx"],"names":["PlayerState","React","useCallback","useEffect","useMemo","useState","DEFAULT_STATE","noop","useDotLottieState","selector","dotLottiePlayer","useDotLottieContext","getSelection","subscribe","listener","useSyncExternalStore","EllipsisVertical","props","Loop","Next","Pause","Play","Previous","useRef","ChevronLeft","ChevronRight","Item","children","enableReset","expand","onBack","onExpand","onReset","title","onClickBack","onClickItem","handleReset","CheckMark","SubItem","onSelectItem","selected","value","Popover","items","onDismiss","active","setActive","dialogRef","useClickAway_default","useKey_default","goBack","handleExpandMenu","handleSelectItem","item","sub","AVAILABLE_BUTTONS","Controls","buttons","loop","state","currentState","seeker","currentAnimationId","defaultTheme","direction","activeStateId","isPlaying","popover","setPopover","animations","setAnimations","themes","setThemes","states","setStates","popoverItems","manuItems","_animations","anim","_themes","theme","_states","shouldDisplayPopover","openPopover","handleDismiss","toggleLoop","handleFreeze","handleUnfreeze","handleNext","handlePrevious","handleTogglePlay","handleSeek","event","updateManifest","_a","_b","_c"],"mappings":"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","sourcesContent":["/**\n * Copyright 2023 Design Barn Inc.\n */\n\nimport type { ManifestAnimation, ManifestTheme } from '@dotlottie/common';\nimport { PlayerState } from '@dotlottie/common';\nimport type { FormEventHandler } from 'react';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\n\nimport { useDotLottieState } from './hooks/use-dotlottie-state';\nimport { EllipsisVertical } from './icons/ellipsis-vertical';\nimport { Loop } from './icons/loop';\nimport { Next } from './icons/next';\nimport { Pause } from './icons/pause';\nimport { Play } from './icons/play';\nimport { Previous } from './icons/previous';\nimport { Popover } from './popover';\nimport { useDotLottieContext } from './providers';\n\nconst AVAILABLE_BUTTONS = ['play', 'stop', 'loop', 'next', 'previous', 'animations', 'themes'] as const;\n\ninterface ControlsProps extends React.HTMLAttributes<HTMLDivElement> {\n  buttons?: Array<typeof AVAILABLE_BUTTONS[number]>;\n  show?: boolean;\n}\n\nexport const Controls: React.FC<ControlsProps> = ({ buttons = AVAILABLE_BUTTONS, ...props }) => {\n  const dotLottiePlayer = useDotLottieContext();\n\n  const loop = useDotLottieState((state) => state.loop);\n  const currentState = useDotLottieState((state) => state.currentState);\n  const seeker = useDotLottieState((state) => state.seeker);\n  const currentAnimationId = useDotLottieState((state) => state.currentAnimationId);\n  const defaultTheme = useDotLottieState((state) => state.defaultTheme);\n  const direction = useDotLottieState((state) => state.direction);\n  const activeStateId = useDotLottieState((state) => state.activeStateId);\n\n  const isPlaying = useMemo(() => {\n    return currentState === PlayerState.Playing;\n  }, [currentState]);\n\n  const [popover, setPopover] = useState(false);\n\n  const [animations, setAnimations] = useState<ManifestAnimation[]>([]);\n  const [themes, setThemes] = useState<ManifestTheme[]>([]);\n  const [states, setStates] = useState<string[]>([]);\n\n  const popoverItems = useMemo(() => {\n    const manuItems = [];\n    const _animations = animations.map((anim) => ({\n      value: anim.id,\n      selected: currentAnimationId === anim.id,\n    }));\n    const _themes = themes\n      .filter((theme) => theme.animations.includes(currentAnimationId || ''))\n      .map((theme) => ({ value: theme.id, selected: defaultTheme === theme.id }));\n\n    const _states = states.map((state) => ({ value: state, selected: activeStateId === state }));\n\n    if (Array.isArray(_animations) && _animations.length !== 0) {\n      manuItems.push({\n        title: 'Animations',\n        items: _animations,\n        enableReset: false,\n      });\n    }\n\n    if (Array.isArray(_states) && _states.length !== 0) {\n      manuItems.push({\n        title: 'States',\n        items: _states,\n        enableReset: true,\n      });\n    }\n\n    if (Array.isArray(_themes) && _themes.length !== 0) {\n      manuItems.push({\n        title: 'Themes',\n        items: _themes,\n        enableReset: Boolean(defaultTheme),\n      });\n    }\n\n    return manuItems;\n  }, [animations, themes, currentAnimationId, defaultTheme, states, activeStateId]);\n\n  const shouldDisplayPopover = useMemo(() => {\n    if (buttons.includes('themes') && Array.isArray(themes) && themes.length) {\n      return true;\n    }\n\n    return buttons.includes('animations') && Array.isArray(animations) && animations.length > 1;\n  }, [popoverItems]);\n\n  const openPopover = useCallback(() => {\n    setPopover(!popover);\n  }, [setPopover]);\n\n  const handleDismiss = useCallback(() => {\n    setPopover(false);\n  }, [setPopover]);\n\n  const toggleLoop = useCallback(() => {\n    dotLottiePlayer?.toggleLoop();\n  }, [dotLottiePlayer]);\n\n  const handleFreeze = useCallback(() => {\n    dotLottiePlayer?.freeze();\n  }, [dotLottiePlayer]);\n\n  const handleUnfreeze = useCallback(() => {\n    dotLottiePlayer?.unfreeze();\n  }, [dotLottiePlayer]);\n\n  const handleNext = useCallback(() => {\n    dotLottiePlayer?.next();\n  }, [dotLottiePlayer]);\n\n  const handlePrevious = useCallback(() => {\n    dotLottiePlayer?.previous();\n  }, [dotLottiePlayer]);\n\n  const handleTogglePlay = useCallback(() => {\n    dotLottiePlayer?.togglePlay();\n  }, [dotLottiePlayer]);\n\n  const handleSelectItem = useCallback(\n    (title: string, value: string) => {\n      if (title === 'Animations') {\n        dotLottiePlayer?.play(value);\n      }\n      if (title === 'Themes') {\n        dotLottiePlayer?.setDefaultTheme(value);\n      }\n      if (title === 'States') {\n        if (value) {\n          dotLottiePlayer?.enterInteractiveMode(value);\n        } else {\n          dotLottiePlayer?.exitInteractiveMode();\n        }\n      }\n    },\n    [dotLottiePlayer],\n  );\n\n  const handleSeek = useCallback<FormEventHandler<HTMLInputElement>>(\n    (event) => {\n      dotLottiePlayer?.seek(String(event.currentTarget.value).concat('%'));\n    },\n    [dotLottiePlayer],\n  );\n\n  function updateManifest(): void {\n    const _animations = dotLottiePlayer?.getManifest()?.animations;\n    const _themes = dotLottiePlayer?.getManifest()?.themes;\n    const _states = dotLottiePlayer?.getManifest()?.states;\n\n    if (_animations) {\n      setAnimations(_animations);\n    }\n\n    if (_themes) {\n      setThemes(_themes);\n    }\n\n    if (_states) {\n      setStates(_states);\n    }\n  }\n\n  useEffect(() => {\n    if (typeof dotLottiePlayer === 'undefined') return undefined;\n\n    dotLottiePlayer?.addEventListener('DOMLoaded', updateManifest);\n\n    return () => {\n      dotLottiePlayer?.removeEventListener('DOMLoaded', updateManifest);\n    };\n  }, [dotLottiePlayer]);\n\n  return (\n    <div aria-label=\"lottie-animation-controls\" className=\"toolbar\" {...props}>\n      {buttons.includes('previous') && animations.length > 1 && (\n        <button onClick={handlePrevious} aria-label=\"play-previous\">\n          <Previous />\n        </button>\n      )}\n      {buttons.includes('play') && (\n        <button onClick={handleTogglePlay} aria-label=\"play-pause\">\n          {isPlaying ? <Pause /> : <Play />}\n        </button>\n      )}\n      {buttons.includes('next') && animations.length > 1 && (\n        <button onClick={handleNext} aria-label=\"play-next\">\n          <Next />\n        </button>\n      )}\n      <input\n        style={{ width: '100%', '--seeker': seeker } as React.CSSProperties}\n        className={`seeker ${direction === 1 ? '' : 'to-left'}`}\n        type=\"range\"\n        min={0}\n        step={0}\n        max={100}\n        value={seeker || 0}\n        onInput={handleSeek}\n        onMouseDown={handleFreeze}\n        onMouseUp={handleUnfreeze}\n        aria-valuemin={1}\n        aria-valuemax={100}\n        role=\"slider\"\n        aria-valuenow={seeker}\n        aria-label=\"lottie-seek-input\"\n      />\n\n      {buttons.includes('loop') && (\n        <button onClick={toggleLoop} className={loop ? 'active' : ''} aria-label=\"loop-toggle\">\n          <Loop />\n        </button>\n      )}\n      {shouldDisplayPopover && (\n        <div style={{ position: 'relative' }}>\n          <Popover items={popoverItems} open={popover} onDismiss={handleDismiss} onSelectItem={handleSelectItem} />\n          <button className={`${popover ? 'popover-active' : ''}`} aria-label=\"open-popover\" onClick={openPopover}>\n            <EllipsisVertical />\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n","/**\n * Copyright 2023 Design Barn Inc.\n */\n\nimport type { DotLottiePlayerState } from '@dotlottie/common';\nimport { DEFAULT_STATE } from '@dotlottie/common';\nimport { useCallback } from 'react';\n\nimport { useDotLottieContext } from '../providers';\n\nimport { useSyncExternalStore } from './use-sync-external-store';\n\nexport type Unsubscribe = () => void;\nexport type Subscribe = (onStateChange: () => void) => Unsubscribe;\nconst noop = (): void => {\n  //\n};\n\nexport function useDotLottieState<T>(selector: (state: DotLottiePlayerState) => T): T | undefined {\n  const dotLottiePlayer = useDotLottieContext();\n\n  const getSelection = useCallback(() => {\n    if (dotLottiePlayer === null) return undefined;\n\n    return selector(dotLottiePlayer.getState());\n  }, [selector, dotLottiePlayer]);\n\n  const subscribe = useCallback<Subscribe>(\n    (listener: () => void) => {\n      if (dotLottiePlayer === null) return noop;\n\n      return dotLottiePlayer.state.subscribe(listener);\n    },\n    [dotLottiePlayer],\n  );\n\n  const getServerSnapshot = (): T => {\n    return selector(DEFAULT_STATE);\n  };\n\n  return useSyncExternalStore(subscribe, getSelection, getServerSnapshot);\n}\n","/**\n * Copyright 2023 Design Barn Inc.\n */\n\nimport type { SVGAttributes } from 'react';\nimport React from 'react';\n\nexport const EllipsisVertical = (props: SVGAttributes<SVGElement>): JSX.Element => {\n  return (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\n      <path\n        d=\"M8.33325 11.6667C7.78097 11.6667 7.33325 12.1144 7.33325 12.6667C7.33325 13.2189 7.78097 13.6667 8.33325 13.6667C8.88554 13.6667 9.33325 13.2189 9.33325 12.6667C9.33325 12.1144 8.88554 11.6667 8.33325 11.6667Z\"\n        fill=\"currentColor\"\n      />\n      <path\n        d=\"M7.33325 8C7.33325 7.44771 7.78097 7 8.33325 7C8.88554 7 9.33325 7.44771 9.33325 8C9.33325 8.55228 8.88554 9 8.33325 9C7.78097 9 7.33325 8.55228 7.33325 8Z\"\n        fill=\"currentColor\"\n      />\n      <path\n        d=\"M7.33325 3.33333C7.33325 2.78105 7.78097 2.33333 8.33325 2.33333C8.88554 2.33333 9.33325 2.78105 9.33325 3.33333C9.33325 3.88562 8.88554 4.33333 8.33325 4.33333C7.78097 4.33333 7.33325 3.88562 7.33325 3.33333Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n};\n","/**\n * Copyright 2023 Design Barn Inc.\n */\n\nimport type { SVGAttributes } from 'react';\nimport React from 'react';\n\nexport const Loop = (props: SVGAttributes<SVGElement>): JSX.Element => {\n  return (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\n      <path\n        d=\"M10.8654 2.31311C11.0607 2.11785 11.3772 2.11785 11.5725 2.31311L13.4581 4.19873C13.6534 4.39399 13.6534 4.71058 13.4581 4.90584L11.5725 6.79146C11.3772 6.98672 11.0607 6.98672 10.8654 6.79146C10.6701 6.5962 10.6701 6.27961 10.8654 6.08435L11.6162 5.33354H4V6.66687C4 7.03506 3.70152 7.33354 3.33333 7.33354C2.96514 7.33354 2.66666 7.03506 2.66666 6.66687L2.66666 4.66687C2.66666 4.29868 2.96514 4.0002 3.33333 4.0002H11.8454L10.8654 3.02022C10.6701 2.82496 10.6701 2.50838 10.8654 2.31311Z\"\n        fill=\"currentColor\"\n      />\n      <path\n        d=\"M12.4375 11.9998C12.8057 11.9998 13.1042 11.7013 13.1042 11.3331V9.33313C13.1042 8.96494 12.8057 8.66647 12.4375 8.66647C12.0693 8.66647 11.7708 8.96494 11.7708 9.33313V10.6665H4.15462L4.90543 9.91565C5.10069 9.72039 5.10069 9.40381 4.90543 9.20854C4.71017 9.01328 4.39359 9.01328 4.19832 9.20854L2.31271 11.0942C2.11744 11.2894 2.11744 11.606 2.31271 11.8013L4.19832 13.6869C4.39359 13.8821 4.71017 13.8821 4.90543 13.6869C5.10069 13.4916 5.10069 13.175 4.90543 12.9798L3.92545 11.9998H12.4375Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n};\n","/**\n * Copyright 2023 Design Barn Inc.\n */\n\nimport type { SVGAttributes } from 'react';\nimport React from 'react';\n\nexport const Next = (props: SVGAttributes<SVGElement>): JSX.Element => {\n  return (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M14.3336 2.5C14.3336 2.22386 14.1097 2 13.8336 2C13.5574 2 13.3336 2.22386 13.3336 2.5V13.5C13.3336 13.7761 13.5574 14 13.8336 14C14.1097 14 14.3336 13.7761 14.3336 13.5V2.5ZM3.50618 2.21722C2.83954 1.82595 2 2.30667 2 3.07965V12.9201C2 13.6931 2.83954 14.1738 3.50618 13.7825L11.8893 8.86231C12.5477 8.47586 12.5477 7.52389 11.8893 7.13745L3.50618 2.21722Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n};\n","/**\n * Copyright 2023 Design Barn Inc.\n */\n\nimport type { SVGAttributes } from 'react';\nimport React from 'react';\n\nexport const Pause = (props: SVGAttributes<SVGElement>): JSX.Element => {\n  return (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\n      <path\n        d=\"M3.99996 2C3.26358 2 2.66663 2.59695 2.66663 3.33333V12.6667C2.66663 13.403 3.26358 14 3.99996 14H5.33329C6.06967 14 6.66663 13.403 6.66663 12.6667V3.33333C6.66663 2.59695 6.06967 2 5.33329 2H3.99996Z\"\n        fill=\"currentColor\"\n      />\n      <path\n        d=\"M10.6666 2C9.93025 2 9.33329 2.59695 9.33329 3.33333V12.6667C9.33329 13.403 9.93025 14 10.6666 14H12C12.7363 14 13.3333 13.403 13.3333 12.6667V3.33333C13.3333 2.59695 12.7363 2 12 2H10.6666Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n};\n","/**\n * Copyright 2023 Design Barn Inc.\n */\n\nimport type { SVGAttributes } from 'react';\nimport React from 'react';\n\nexport const Play = (props: SVGAttributes<SVGElement>): JSX.Element => {\n  return (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\n      <path\n        d=\"M3.33337 3.46787C3.33337 2.52312 4.35948 1.93558 5.17426 2.41379L12.8961 6.94592C13.7009 7.41824 13.7009 8.58176 12.8961 9.05408L5.17426 13.5862C4.35948 14.0644 3.33337 13.4769 3.33337 12.5321V3.46787Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n};\n","/**\n * Copyright 2023 Design Barn Inc.\n */\n\nimport type { SVGAttributes } from 'react';\nimport React from 'react';\n\nexport const Previous = (props: SVGAttributes<SVGElement>): JSX.Element => {\n  return (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M1.69214 13.5C1.69214 13.7761 1.916 14 2.19214 14C2.46828 14 2.69214 13.7761 2.69214 13.5L2.69214 2.5C2.69214 2.22386 2.46828 2 2.19214 2C1.916 2 1.69214 2.22386 1.69214 2.5V13.5ZM12.5192 13.7828C13.1859 14.174 14.0254 13.6933 14.0254 12.9204L14.0254 3.0799C14.0254 2.30692 13.1859 1.8262 12.5192 2.21747L4.13612 7.13769C3.47769 7.52414 3.47769 8.4761 4.13612 8.86255L12.5192 13.7828Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n};\n","/**\n * Copyright 2023 Design Barn Inc.\n */\n\nimport React, { useCallback, useRef, useState } from 'react';\nimport { useClickAway, useKey } from 'react-use';\n\nimport { Item } from './item';\nimport { SubItem } from './sub-item';\n\ninterface PopoverSubItem {\n  selected: boolean;\n  value: string;\n}\ninterface PopoverItem {\n  enableReset: boolean;\n  items: PopoverSubItem[];\n  title: string;\n}\n\ninterface PopoverProps extends React.HTMLAttributes<HTMLDialogElement> {\n  items: PopoverItem[];\n  onDismiss: () => void;\n  onSelectItem: (title: string, value: string) => void;\n  open: boolean;\n}\n\nexport const Popover: React.FC<PopoverProps> = ({ items = [], onSelectItem, onDismiss, ...props }) => {\n  const [active, setActive] = useState('');\n  const dialogRef = useRef<HTMLDialogElement>(null);\n\n  useClickAway(dialogRef, () => {\n    setActive('');\n    onDismiss();\n  });\n\n  useKey('Escape', () => {\n    setActive('');\n    onDismiss();\n  });\n\n  const goBack = useCallback(() => {\n    setActive('');\n  }, [setActive]);\n\n  const handleExpandMenu = useCallback(\n    (value: string) => {\n      return () => setActive(value);\n    },\n    [setActive],\n  );\n\n  const handleSelectItem = useCallback(\n    (title: string, value: string) => {\n      return () => onSelectItem(title, value);\n    },\n    [onSelectItem],\n  );\n\n  return (\n    <dialog\n      ref={dialogRef}\n      style={{ padding: active ? '0px' : '8px' }}\n      className=\"popover\"\n      aria-label=\"Popover Menu\"\n      {...props}\n    >\n      <ul aria-label=\"Popover content\" className=\"popover-content\">\n        {items.map((item) => {\n          return (\n            <li\n              key={item.title}\n              style={{\n                width: '100%',\n              }}\n            >\n              {(active === item.title || !active) && (\n                <Item\n                  expand={active === item.title}\n                  title={item.title}\n                  onExpand={handleExpandMenu(item.title)}\n                  onBack={goBack}\n                  enableReset={item.enableReset}\n                  onReset={handleSelectItem(item.title, '')}\n                >\n                  <ul className=\"popover-items\" aria-label={`List of ${item.title}`}>\n                    {item.items.map((sub) => {\n                      return (\n                        <li key={sub.value}>\n                          <SubItem\n                            value={sub.value}\n                            selected={sub.selected}\n                            onSelectItem={handleSelectItem(item.title, sub.value)}\n                          />\n                        </li>\n                      );\n                    })}\n                  </ul>\n                </Item>\n              )}\n            </li>\n          );\n        })}\n      </ul>\n    </dialog>\n  );\n};\n","/**\n * Copyright 2023 Design Barn Inc.\n */\n\nimport React, { useCallback } from 'react';\n\nimport { ChevronLeft } from '../icons/chevron-left';\nimport { ChevronRight } from '../icons/chevron-right';\n\ninterface ItemProps {\n  children: React.ReactNode;\n  enableReset: boolean;\n  expand: boolean;\n  onBack: () => void;\n  onExpand: () => void;\n  onReset: () => void;\n  title: string;\n}\n\nexport const Item: React.FC<ItemProps> = ({\n  children,\n  enableReset,\n  expand = false,\n  onBack,\n  onExpand,\n  onReset,\n  title,\n}) => {\n  const onClickBack = useCallback(() => {\n    onBack();\n  }, [onBack]);\n\n  const onClickItem = useCallback(() => {\n    onExpand();\n  }, [onExpand]);\n\n  const handleReset = useCallback(() => {\n    onReset();\n  }, [onReset]);\n\n  return (\n    <>\n      {!expand && (\n        <button className=\"popover-item\" aria-label={`Go to ${title}`} onClick={onClickItem}>\n          <span style={{ flex: 1 }}>{title}</span>\n          <span>\n            <ChevronRight />\n          </span>\n        </button>\n      )}\n      {expand && (\n        <div className=\"popover-submenu\">\n          <div className=\"popover-header\">\n            <button onClick={onClickBack}>\n              <ChevronLeft />\n            </button>\n            <div className=\"popover-header-title\" style={{ flex: 1 }}>\n              <span>{title}</span>\n              {enableReset && (\n                <button className=\"reset-theme\" onClick={handleReset} aria-label={`Reset ${title}`}>\n                  Reset\n                </button>\n              )}\n            </div>\n          </div>\n          {children}\n        </div>\n      )}\n    </>\n  );\n};\n","/**\n * Copyright 2023 Design Barn Inc.\n */\n\nimport type { SVGAttributes } from 'react';\nimport React from 'react';\n\nexport const ChevronLeft = (props: SVGAttributes<SVGElement>): JSX.Element => {\n  return (\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M13.5303 6.46967C13.8232 6.76256 13.8232 7.23744 13.5303 7.53033L9.06066 12L13.5303 16.4697C13.8232 16.7626 13.8232 17.2374 13.5303 17.5303C13.2374 17.8232 12.7626 17.8232 12.4697 17.5303L7.46967 12.5303C7.17678 12.2374 7.17678 11.7626 7.46967 11.4697L12.4697 6.46967C12.7626 6.17678 13.2374 6.17678 13.5303 6.46967Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n};\n","/**\n * Copyright 2023 Design Barn Inc.\n */\n\nimport type { SVGAttributes } from 'react';\nimport React from 'react';\n\nexport const ChevronRight = (props: SVGAttributes<SVGElement>): JSX.Element => {\n  return (\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M10.4697 17.5303C10.1768 17.2374 10.1768 16.7626 10.4697 16.4697L14.9393 12L10.4697 7.53033C10.1768 7.23744 10.1768 6.76256 10.4697 6.46967C10.7626 6.17678 11.2374 6.17678 11.5303 6.46967L16.5303 11.4697C16.8232 11.7626 16.8232 12.2374 16.5303 12.5303L11.5303 17.5303C11.2374 17.8232 10.7626 17.8232 10.4697 17.5303Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n};\n","/**\n * Copyright 2023 Design Barn Inc.\n */\n\nimport React, { useCallback } from 'react';\n\nimport { CheckMark } from '../icons/check-mark';\n\ninterface SubItemProps extends React.HTMLAttributes<HTMLButtonElement> {\n  onSelectItem?: (value: string) => void;\n  selected: boolean;\n  value: string;\n}\n\nexport const SubItem: React.FC<SubItemProps> = ({ onSelectItem, selected = false, value, ...props }) => {\n  const onClickItem = useCallback(() => {\n    onSelectItem?.(value);\n  }, [onSelectItem, value]);\n\n  return (\n    <button\n      aria-label={`Select ${value}`}\n      className={`popover-item ${selected ? 'selected' : ''}`}\n      onClick={onClickItem}\n      {...props}\n    >\n      <span style={{ visibility: selected ? 'visible' : 'hidden' }}>\n        <CheckMark />\n      </span>\n      <span style={{ flex: 1 }}>{value}</span>\n    </button>\n  );\n};\n","/**\n * Copyright 2023 Design Barn Inc.\n */\n\nimport type { SVGAttributes } from 'react';\nimport React from 'react';\n\nexport const CheckMark = (props: SVGAttributes<SVGElement>): JSX.Element => {\n  return (\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M20.5283 5.9372C20.8211 6.23009 20.8211 6.70497 20.5283 6.99786L9.4631 18.063C9.32181 18.2043 9.12997 18.2833 8.93016 18.2826C8.73035 18.2819 8.53907 18.2015 8.39877 18.0593L3.46807 13.0596C3.17722 12.7647 3.18052 12.2898 3.47544 11.999C3.77036 11.7081 4.24522 11.7114 4.53608 12.0063L8.93646 16.4683L19.4676 5.9372C19.7605 5.64431 20.2354 5.64431 20.5283 5.9372Z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  );\n};\n"]}