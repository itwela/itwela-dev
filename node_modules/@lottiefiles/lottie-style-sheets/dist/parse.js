// src/parse.ts
import { parse as parseCss } from "postcss";
import { u } from "unist-builder";

// src/constants.ts
var ROOT_TYPE = "root";
var RULE_TYPE = "rule";
var DELARATION_TYPE = "declaration";

// src/parse.ts
function parse(source) {
  const root = u(ROOT_TYPE, []);
  const cssTree = parseCss(source);
  cssTree.walkRules((rule) => {
    const ruleNode = u(RULE_TYPE, {
      selectors: [],
      selector: ""
    }, []);
    ruleNode.selectors = [...rule.selectors];
    ruleNode.selector = rule.selector;
    rule.walkDecls((decl) => {
      const declNode = u(DELARATION_TYPE, {
        important: decl.important,
        property: decl.prop,
        value: decl.value
      });
      ruleNode.children.push(declNode);
    });
    root.children.push(ruleNode);
  });
  return root;
}
export {
  parse
};
//# sourceMappingURL=parse.js.map