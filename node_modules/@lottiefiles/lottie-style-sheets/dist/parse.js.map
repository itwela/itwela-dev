{"version":3,"sources":["../src/parse.ts","../src/constants.ts"],"sourcesContent":["/**\n * Copyright 2023 Design Barn Inc.\n */\n\nimport { parse as parseCss } from 'postcss';\nimport { u } from 'unist-builder';\n\nimport { DELARATION_TYPE, RULE_TYPE, ROOT_TYPE } from './constants';\nimport type { Declaration, Rule, Root } from './types';\n\nexport function parse(source: string): Root {\n  const root: Root = u(ROOT_TYPE, []);\n\n  const cssTree = parseCss(source);\n\n  cssTree.walkRules((rule) => {\n    const ruleNode: Rule = u(\n      RULE_TYPE,\n      {\n        selectors: [],\n        selector: '',\n      },\n      [],\n    );\n\n    ruleNode.selectors = [...rule.selectors];\n    ruleNode.selector = rule.selector;\n\n    rule.walkDecls((decl) => {\n      const declNode: Declaration = u(DELARATION_TYPE, {\n        important: decl.important,\n        property: decl.prop,\n        value: decl.value,\n      });\n\n      ruleNode.children.push(declNode);\n    });\n\n    root.children.push(ruleNode);\n  });\n\n  return root;\n}\n","/**\n * Copyright 2023 Design Barn Inc.\n */\n\nexport const ROOT_TYPE = 'root';\nexport const RULE_TYPE = 'rule';\nexport const DELARATION_TYPE = 'declaration';\n"],"mappings":";AAIA;AACA;;;ACDO,IAAM,YAAY;AAClB,IAAM,YAAY;AAClB,IAAM,kBAAkB;;;ADIxB,eAAe,QAAsB;AAC1C,QAAM,OAAa,EAAE,WAAW,CAAC,CAAC;AAElC,QAAM,UAAU,SAAS,MAAM;AAE/B,UAAQ,UAAU,CAAC,SAAS;AAC1B,UAAM,WAAiB,EACrB,WACA;AAAA,MACE,WAAW,CAAC;AAAA,MACZ,UAAU;AAAA,IACZ,GACA,CAAC,CACH;AAEA,aAAS,YAAY,CAAC,GAAG,KAAK,SAAS;AACvC,aAAS,WAAW,KAAK;AAEzB,SAAK,UAAU,CAAC,SAAS;AACvB,YAAM,WAAwB,EAAE,iBAAiB;AAAA,QAC/C,WAAW,KAAK;AAAA,QAChB,UAAU,KAAK;AAAA,QACf,OAAO,KAAK;AAAA,MACd,CAAC;AAED,eAAS,SAAS,KAAK,QAAQ;AAAA,IACjC,CAAC;AAED,SAAK,SAAS,KAAK,QAAQ;AAAA,EAC7B,CAAC;AAED,SAAO;AACT;","names":[]}