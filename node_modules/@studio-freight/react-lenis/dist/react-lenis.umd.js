!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@studio-freight/hamo"),require("@studio-freight/lenis"),require("clsx"),require("react"),require("zustand")):"function"==typeof define&&define.amd?define(["exports","@studio-freight/hamo","@studio-freight/lenis","clsx","react","zustand"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactLenis={},e.hamo,e.Lenis,e.cn,e.React,e.zustand)}(this,(function(e,t,r,n,a,s){"use strict";"function"==typeof SuppressedError&&SuppressedError;const l=a.createContext(),c=s.create((()=>({})));const o=a.forwardRef(((e,s)=>{var{children:o,root:u=!1,options:i={},autoRaf:f=!0,rafPriority:d=0,className:p}=e,b=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["children","root","options","autoRaf","rafPriority","className"]);const m=a.useRef(),y=a.useRef(),[h,g]=a.useState(),v=a.useRef([]),O=a.useCallback(((e,t)=>{v.current.push({callback:e,priority:t}),v.current.sort(((e,t)=>e.priority-t.priority))}),[]),k=a.useCallback((e=>{v.current=v.current.filter((t=>t.callback!==e))}),[]);a.useImperativeHandle(s,(()=>({wrapper:m.current,content:y.current,lenis:h})),[h]),a.useEffect((()=>{const e=new r(Object.assign(Object.assign({},i),!u&&{wrapper:m.current,content:y.current}));return g(e),()=>{e.destroy(),g(void 0)}}),[u,JSON.stringify(i)]),t.useFrame((e=>{f&&(null==h||h.raf(e))}),d),a.useEffect((()=>{u&&h&&c.setState({lenis:h,addCallback:O,removeCallback:k})}),[u,h,O,k]);const C=a.useCallback((e=>{for(let t=0;t<v.current.length;t++)v.current[t].callback(e)}),[]);a.useEffect((()=>(null==h||h.on("scroll",C),()=>{null==h||h.off("scroll",C)})),[h,C]);const E=a.useCallback((()=>{m.current&&(m.current.className=n(null==h?void 0:h.className,p))}),[h,p]);return a.useEffect((()=>(E(),null==h||h.on("className change",E),()=>{null==h||h.off("className change",E)})),[h,E]),a.createElement(l.Provider,{value:{lenis:h,addCallback:O,removeCallback:k}},u?o:a.createElement("div",Object.assign({ref:m,className:n(null==h?void 0:h.className,p)},b),a.createElement("div",{ref:y},o)))}));e.Lenis=o,e.LenisContext=l,e.ReactLenis=o,e.default=o,e.useLenis=function(e,t=[],r=0){const{lenis:n,addCallback:s,removeCallback:o}=function(){const e=a.useContext(l),t=c();return null!=e?e:t}();return a.useEffect((()=>{if(e&&s&&o&&n)return s(e,r),e(n),()=>{o(e)}}),[n,s,o,r,...t]),n},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=react-lenis.umd.js.map
